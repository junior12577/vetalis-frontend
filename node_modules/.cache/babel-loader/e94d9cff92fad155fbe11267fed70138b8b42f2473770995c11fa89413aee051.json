{"ast":null,"code":"// src/pages/ConsultasDashboard.jsx\nimport{useEffect,useState}from'react';import axios from'axios';import{useNavigate}from'react-router-dom';import styles from'./Consultasagendadas.module.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ConsultasDashboard(){const[consultas,setConsultas]=useState([]);const navigate=useNavigate();useEffect(()=>{axios.get('https://vetalis-backend.onrender.com/consultas').then(res=>setConsultas(res.data)).catch(err=>console.error('Erro ao buscar consultas:',err));},[]);const verDetalhes=id=>{navigate('/detalhes-consulta',{state:{id}});};const formatarData=dataISO=>{const data=new Date(dataISO);return data.toLocaleDateString('pt-BR');};useEffect(()=>{axios.get('https://vetalis-backend.onrender.com/agendamento').then(res=>setConsultas(res.data)).catch(err=>console.error('Erro ao buscar consultas:',err));},[]);const editarConsulta=id=>{navigate('/editar-consulta',{state:{id}});};const excluirConsulta=id=>{// Exemplo simples\naxios.delete(\"https://vetalis-backend.onrender.com/agendamento/\".concat(id)).then(()=>{setConsultas(consultas.filter(item=>item._id!==id));}).catch(err=>console.error('Erro ao excluir consulta:',err));};return/*#__PURE__*/_jsx(\"div\",{className:styles.dashboard,children:consultas.length===0?/*#__PURE__*/_jsx(\"p\",{className:styles.semConsultas,children:\"Nenhuma consulta agendada no momento.\"}):consultas.map(consulta=>/*#__PURE__*/_jsxs(\"div\",{className:styles.card,onClick:()=>verDetalhes(consulta._id),children:[/*#__PURE__*/_jsx(\"h3\",{children:consulta.pet}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Tutor:\"}),\" \",consulta.nome_tutor]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Data:\"}),\" \",formatarData(consulta.Data)]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Hor\\xE1rio:\"}),\" \",consulta.Horario]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Motivo:\"}),\" \",consulta.Motivo]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.buttonGroup,children:[/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();editarConsulta(consulta._id);},className:styles.editButton,children:\"Editar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();excluirConsulta(consulta._id);},className:styles.deleteButton,children:\"Excluir\"})]})]},consulta._id))});}export default ConsultasDashboard;","map":{"version":3,"names":["useEffect","useState","axios","useNavigate","styles","jsx","_jsx","jsxs","_jsxs","ConsultasDashboard","consultas","setConsultas","navigate","get","then","res","data","catch","err","console","error","verDetalhes","id","state","formatarData","dataISO","Date","toLocaleDateString","editarConsulta","excluirConsulta","delete","concat","filter","item","_id","className","dashboard","children","length","semConsultas","map","consulta","card","onClick","pet","nome_tutor","Data","Horario","Motivo","buttonGroup","e","stopPropagation","editButton","deleteButton"],"sources":["C:/Users/pichau/Desktop/react - Copia - Copia/frontend/src/components/agendamentos/consultasagendadas.js"],"sourcesContent":["// src/pages/ConsultasDashboard.jsx\nimport { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport styles from'./Consultasagendadas.module.css'; \n\nfunction ConsultasDashboard() {\n  const [consultas, setConsultas] = useState([]);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    axios.get('https://vetalis-backend.onrender.com/consultas')\n      .then(res => setConsultas(res.data))\n      .catch(err => console.error('Erro ao buscar consultas:', err));\n  }, []);\n\n  const verDetalhes = (id) => {\n    navigate('/detalhes-consulta', { state: { id } });\n  };\n  const formatarData = (dataISO) => {\n  const data = new Date(dataISO);\n  return data.toLocaleDateString('pt-BR');\n};\n  useEffect(() => {\n    axios.get('https://vetalis-backend.onrender.com/agendamento') \n      .then(res => setConsultas(res.data))\n      .catch(err => console.error('Erro ao buscar consultas:', err));\n  }, []);\n\n  const editarConsulta = (id) => {\n  \n    navigate('/editar-consulta', { state: { id } });\n  };\n\n  const excluirConsulta = (id) => {\n    // Exemplo simples\n    axios.delete(`https://vetalis-backend.onrender.com/agendamento/${id}`)\n      .then(() => {\n        setConsultas(consultas.filter(item => item._id !== id));\n      })\n      .catch(err => console.error('Erro ao excluir consulta:', err));\n  };\n\n\n\n  return (\n  <div className={styles.dashboard}>\n    {consultas.length === 0 ? (\n      <p className={styles.semConsultas}>Nenhuma consulta agendada no momento.</p>\n    ) : (\n      consultas.map((consulta) => (\n        <div key={consulta._id} className={styles.card} onClick={() => verDetalhes(consulta._id)}>\n          <h3>{consulta.pet}</h3>\n          <p><strong>Tutor:</strong> {consulta.nome_tutor}</p>\n          <p><strong>Data:</strong> {formatarData(consulta.Data)}</p>\n          <p><strong>Hor√°rio:</strong> {consulta.Horario}</p>\n          <p><strong>Motivo:</strong> {consulta.Motivo}</p>\n          <div className={styles.buttonGroup}>\n            <button\n              onClick={(e) => {\n                e.stopPropagation();\n                editarConsulta(consulta._id);\n              }}\n              className={styles.editButton}>\n              Editar\n            </button>\n            <button\n              onClick={(e) => {\n                e.stopPropagation();\n                excluirConsulta(consulta._id);\n              }}\n              className={styles.deleteButton}>\n              Excluir\n            </button>\n          </div>\n        </div>\n      ))\n    )}\n  </div>\n);\n\n}\n\nexport default ConsultasDashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}